# Molecular Parser
_Где парсер? А он тут._

## Запуск парсера
Нужна версия `PHP 7.1` или новее. Версии, выпущенные раннее этой не проверялись.
```
$ php parser.php FILE
```
Где `FILE` это файл, который нужно распарсить.

## Требование к входным данным
Входные данные должны быть подобного форматирования:
```
COMMENT
88
4vfe-AA_1-conf.sdf-run-6-lig-13,8,-10.2634677612,12.738872553,grejiwopr,mytre,trew,tjerkwybr,utreio,ytre
C        -68.489840     -46.422473      85.772567
O      60.681269   -38.876192    -13.890082
[...]
89
3ags-AA_3-conf.sdf-run-6-lig-97,2,-10.7934516536,14.8010239664,grejiwopr,mytre,trew,tjerkwybr,utreio,ytre
H         -74.616993      -2.741216       -60.301228
F       89.803438    -84.892089     -34.827049
[...]
```

## Формат данных после обработки
Внимание! В сгенерированном файле все данные приводятся к единому формату:

| MolID | Target | Ligand | Run | Pose | Rank | dG | VS | Atom | X | Y | Z |
|-------|--------|--------|-----|------|------|----|----|------|---|---|---|

Для примера, строки:
```
4vfe-AA_1-conf.sdf-run-6-lig-13,8,-10.2634677612,12.738872553,grejiwopr,mytre,trew,tjerkwybr,utreio,ytre
C        -68.489840     -46.422473      85.772567
O      60.681269   -38.876192    -13.890082
```
После генерации файла будут иметь структуру:
```
MolID;Target;Ligand;Run;Pose;Rank;dG;VS;Atom;X;Y;Z
1;4vfe;AA_1;6;13;8;-10.2634677612;12.738872553;C;-68.489840;-46.422473;85.772567
1;4vfe;AA_1;6;13;8;-10.2634677612;12.738872553;O;60.681269;-38.876192;-13.890082
```

## Известные ошибки
~`@$array .= $form.$at.';'.PHP_EOL;`, который создается во время `foreach` вызывает предупреждения типа `undefined variable`.~ 

~Непонятные строки с `;;` в самом начале алгоритма.~

Пофиксил [SysUtils](https://github.com/SysUtils), спасибо ему большое.
